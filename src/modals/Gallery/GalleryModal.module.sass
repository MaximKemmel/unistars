$inactive_overlay_background_color: #000000
$overlay_background_color: #00000033
$modal_background_color: #FFFFFF
$text_neutral_color: #202327
$divider_color: #E2E8F0
$additional_color: #7B61FF

.modal,
.overlay
    position: fixed
    z-index: 21

.modal
    height: 0
    width: 0
    top: 50%
    left: 50%
    transform: translate(-50%, -50%)
    overflow: hidden

    &.active
        display: block
        height: 100vh
        width: 100vw
        transform: translate(0)
        top: 0
        left: 0

    .overlay
        background: rgba(0, 0, 0, 0)
        transition: all .15s ease-out
        height: 100vh
        width: 100%
        top: 0
        left: 0

        &.active
            background: $overlay_background_color

    .modal_content
        display: flex
        flex-direction: column
        align-items: center
        width: 930px
        max-height: 80vh
        top: 50%
        left: 50%
        transform: translate(-50%, -50%)
        position: absolute
        z-index: 21
        background-color: $modal_background_color
        box-shadow: 0px 8px 50px -6px rgba(20, 23, 26, 0.12)
        border-radius: 16px

        .head
            display: flex
            align-items: center
            justify-content: space-between
            width: calc(100% - 64px)
            padding: 26px 32px
            padding-bottom: 10px
            border-bottom: 1px solid $divider_color

            h3
                color: $text_neutral_color

            .close
                display: flex
                justify-content: center
                align-items: center
                width: 32px
                height: 32px
                cursor: pointer

                svg
                    width: 16px
                    height: auto

        .gallery_container
            display: flex
            flex-direction: column
            gap: 24px
            width: 100%
            overflow: hidden

            .gallery_content
                display: flex
                flex-wrap: wrap
                gap: 12px
                width: calc(100% - 64px)
                padding: 16px 32px
                overflow-y: auto

                .gallery_item_container
                    position: relative
                    display: flex
                    width: calc(25% - 9px)
                    aspect-ratio: 5/3
                    border-radius: 8px

                    .gallery_item
                        position: relative
                        display: flex
                        width: 100%
                        height: 100%
                        border-radius: 8px
                        padding-top: 2px
                        overflow: hidden

                        &.edited
                            -webkit-clip-path: polygon(30px 35px, 32px 34px, 34px 32px, 35px 30px, 35px 5px, 36px 3px, 38px 1px, 39px 0.5px, 40px 0, 100% 0, 100% 100%, 0 100%, 0px 40px, 1px 38px, 3px 36px, 5px 35px)
                            clip-path: polygon(30px 35px, 32px 34px, 34px 32px, 35px 30px, 35px 5px, 36px 3px, 38px 1px, 39px 0.5px, 40px 0, 100% 0, 100% 100%, 0 100%, 0px 40px, 1px 38px, 3px 36px, 5px 35px)

                            &.selected
                                background-color: $additional_color
                                justify-content: center
                                border-bottom: 2.5px solid $additional_color

                                .photo
                                    top: 2px
                                    left: 2px
                                    width: calc(100% - 4px)
                                    -webkit-clip-path: polygon(30px 35px, 32px 34px, 34px 32px, 35px 30px, 35px 5px, 36px 3px, 38px 1px, 39px 0.5px, 40px 0, 100% 0, 100% 100%, 0 100%, 0px 40px, 1px 38px, 3px 36px, 5px 35px)
                                    clip-path: polygon(30px 35px, 32px 34px, 34px 32px, 35px 30px, 35px 5px, 36px 3px, 38px 1px, 39px 0.5px, 40px 0, 100% 0, 100% 100%, 0 100%, 0px 40px, 1px 38px, 3px 36px, 5px 35px)

                        .photo
                            position: absolute
                            z-index: 1
                            width: 100%
                            height: auto
                            border-radius: 8px

                    .checkbox
                        position: absolute
                        z-index: 5
                        display: flex
                        align-items: center
                        justify-content: center
                        width: 32px
                        height: 32px

            .gallery_actions
                display: flex
                justify-content: space-between
                align-items: center
                flex-shrink: 0
                gap: 16px
                width: calc(100% - 64px)
                padding: 16px 32px 28px 32px
                border-top: 1px solid $divider_color

                .actions
                    display: flex
                    align-items: center
                    gap: 16px

                    .edited_count
                        font-size: 16px
                        color: $text_neutral_color
                        font-weight: 700
                        margin-right: 8px
